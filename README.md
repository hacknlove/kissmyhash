# kissmyhash
Hashes as long and strong as you need.

It defaults to 1024 bytes, but you can set higher or lower.


## v2

* Now it uses a different default serializer
* A bug that potentially caused hash collisions with unicode characters has been fixed

Because of that, v2 hashes are not compatible with v1 hashes


## Why?

You might have some scenario where you want to use longer thus stronger hashes, maybe so they can age better.


## Examples

```javascript
const kissmyhash = require('kissmyhash')

// hash a string using defaults (1024 bytes 8192 bits)
kissmyhash('hello word')
// -> 'ljnFw3n-Fquht3Q8e5trpjGlQLOGHtV-pgdWyNX1W9HgAZzgSSzZbcFpiN73T9XKx8HIrM5cAmqVkO8vaUt4G3XuPaDieLE_VNJTNedoiT7WkFwAW2gUjQ4GiTk4cWMvDypqtwjJcn1E2EbMkHHK5jT_ylH4BwjR85gOXUwlxCoPca0rTPCZn2qSNxHzf1X7X2Ajx-_H-H4IVrJXDSQp0r2S-xWpHD31rQLfiXpwo4tIHpsVEnW5hkQKpP8tLl7VxgeqYXjB8b9i4oCsZhH8GvKvVL3CP4aqKI2mmWknI2_I_qQevzNyNHJunw6Ecj9fVnEN08oDv7W7fZtF9k09ZpTNgZMXjff9-PCTVkYNiNwybDWPnQTAqLVu9oHAetZljPkNdpiPiqhIBZwgS8X9JS7U7meTLpD-E3wiQV60yqm6AfY1Nx2Jn8hl5-dcXHR7ftoYRI2-_81Va5XJlVvb02ZIrOZ1LovFkg-3TFXxtIg8cmLWIfZT5IVIO7LDYnNbbhK95g9cpzhasLZa8ra62KzBL7xpbLVHziI1D6ORGJctqlQ4iJAT1QU2gZxzJ1f5WQOL9GSxhiyheqGi61DJl-Gzmi6MEhEOKk87bApz17vG5Dz5o6WKRH0h_6PwSR0UoLykd5TeAMHobZPSody75bpwJvcCNbBEibXxxliilOKStKDkH1YHCMvllQPrIG97lykSZSrXUR-PHl8vBqsIxf8MpkhJlL7-TZGrdZmjyIH_8JTdH8PIEB9jx5zGsxMPZvdPyp0CpImF3m7yVHKip22tvI_d9M5yOugWdM9MA2xjw7LTPlKB_tNiJ7qU3Nc-kFyV7sIqbkb8KVCg-MowYPDaKu9ZZoluoPyBtV4v9F-9-VtfOAkcfrZkoQtLBSWU4C1VyqeHNLtv3KwWkSXwmRtYEch0rrarhrYq-skMKrExP5zi7UXgW7vr_jjihLZnKQ5MqeBBUKOOEYWayGGoDu03jQeA1nuGpviZJuWeAuncLf02KLJ66qwyhla8Evpy6nniWRVowZ0_CWHB9naXaHu8AIG0mQh-wxc6e0-_gErz0CWl-45pph5fa6KmIwxOY-pG4hp76Fopj6YDDzzaXgAoTxMr4jgkZwCMCaw9k3V-ZCSJNseP0i5o4ULYHEIIrKjaLfXkK6fGwkCpRFi4WayrQynt-IbWZSg660XIInFnu0n4iW36TGMjYrBlb9k__daTHv4YEGSej6FPGusZY7MeqXnj8jpk1prqlPOlkx7it4I4PJsRmiY8ZHcCUUNvqFqsH5tokP9mK5MpyXtZ6Si6RgnXc3DnM-CKQXqzv9IpxawulMTndEkT7tgpdMZaE7DGGWpCo3x5wd-pAfqouA'

// hash a string with a smaller byte length 64 bytes (512 bites) like SHA512
kissmyhash('hello word', { length: 64 } )
// -> 'SN4PMkkpJfRzCzxATQlikXpjzWGxdxMITKX5G6cnd3AxiXznHSLc9sIVRFw1aHKSmLkeLdL09cDzVVUPTq9U3w'

// hash an object with a medium size byte length
kissmyhash({message: 'hello word'})
// -> 'Q5SVUp4Ov8VftIj7p8n5UCFJreRhVNttQsfMmQ5y6q1HPuWlsqC4ogIPlv-1H0dyaxJ7V5m622xcI0P8pmZ95aAfLFXCdPD4gmvtPnnMvWQ2L0WO-xOR0TKSSkmfq9anfkTv72yBbgppgxQbNLvNHXloXEP_YzBPwoKGKSm5qXjZ2CK52qBOi1lTfW4rbicstRkjUTZwKyNgfSLZ1RB3wcuANR4eHyZ5DTnmGMgUjShyhOsTShyEv1WmH42FpLck1BuC49eaqiQ8VYKwWtB8CbAsvnXI0x7laDWEX8axULNqPlYRIDuqYve3uwWjJAgw6NA0XXQ7uxrvBAzQBzu3s_7cfoOn315ENJtd3_9fGYQrLY5P-TCiNWbuBdENR1ZuITfYmpUMB6JdFNy3emcc4W7RBVL1X7V9AsrDSwFnXhM5HP9Dw1AfD-Rmf5ZAgsSJ0VDFHiU6QN-zQjkjQaGhlD9GZjMs0RJFRZAzH09xni4sBbpqfte0Jy72jtzfR6ujfidrD3tzUXsrYAhBoB6Cz2g5ftJiNKFutg-en9AE_XbeJ0-7BJqCIQ2aPPpg_k1c3udR7rqQ8UME_1lehzUWl1bujB8QBMqCsgupbRLEFN4UU19zK_AQc91WHfoTIhpI41G_m9wGIeq7zUEANITSCf6AaQj0I2Unf-vIy6bzjaXqb5798ST3lxc9Z0vN5u_i5p8AZY17gmH8OtAkcfvKCnMRMSQrjgHflwubDTe0SANRb3jNl5tiyNvNVeO0PS0b7TJejrvrc3huv_2v_-hqqNUU-dCDEH3O80JUUVqOoGZzRTrrhcQJ66aXXrpwSnX4avxbXpRRX_FrcZIDv1qEZQvXnJUj4VdRFWIscj5gZhGj5l3VOT0pkoAZL6xuHMpLbGDHoNGiB31eiCIt_PwuPvDWpi7N9Z5U-1stmxOmr3YYZCEwlOx2uhGoBMYrrP4k0aDcIEFC_j-I496HdVrXDvRmPTx6U6LBF9xJBP9z3NaW-u8iXTK97Qtrj9AEnqiUzXrNUsFQf7wrk0XcsqkNQ5Khe9OBerUzTjIC7ax4tPFTSGCuel_8qcnJiVGWkvUIAUNEeW3ejh_s-5kLnHMwimtcrezRbZ4GYM4adg-ySjuDTbK_eohGh9BiRwDetOb0_JPCmI4HOtHXOxgZuIlefEvtfnMLr4VpzytrIUV5WXcgLfp552mUzQxryN0iybkZKOX7NG0665JLcHTpmXtPmwysw7fQQALwExoQBuC52V27dmq3vesl0ciUG_bG31EnzK7XPEvJrM7mAyXM2CXDvoGHXrngDqULFxID0_O2iYLy4gfIekk_BSk47bfOl7nPhd3S7ckMq_37t28AiHs7VQ'

// hash using a different PRNG
const alea = require('seedrandom/lib/alea')
kissmyhash({message: 'hello word'}, { prng: alea })
// -> 'Bpin6UBCnShRetOsQ4h4kZ37ABmXk_qYiE1IZgRKntAGsWru62EWU7XnJZDYCUumBHiUVeqSrQ6tcQPO4l95IHvRw5QJzVLmVkHjjsJs3IMcdPZ07cK6aNTeHho-1V78K7fHuujouaRHqLwj3sJ1QpCoVdVPWsZDQDacWi3ygIYeYTk58gnxLs5s4r_32TzAgOnK07CqzkXK7t0xRUlfJkGnPKRPoSGsUE7IHSR6z3BOsE_GUymXsLr1KsxWsthSNQfhY1HkIzbqE6VUD66lg13VdxdrJNjeKcOQUx2_3ejC5BfpniNnXyJDSi2pwwxClmneRfZ2iWTiyewnCJZ1f9eSjgnfizuC72KuO3fELPG8xFAx3L_aL1x1tO_PFn5BO3cqMaYhmWAGHjxraA8mOc1vU_P3sZgTVLjyIw3W9TuTHVsL7N-oPNXzRwU7obCswC1nsNoEy1tqHBvJIzSYqpMvseDhJ4FE-azLNFl68h2qz3L8sOXp-kH7drJPufUwz61vRp8dwYxQvEdW3W1KecjAP0_Gy-Ejaoa1ryYu9O-KKhGOPamoHBcRrl463ff3RgOOXB34uJwGSLpPIbjv0c_SeyeImWLt8TUf7hsajzwsYW1bVpGm0i9FM7uEStPiQV-WqntduN1FWH2MdsIX990qGxJAlBZNG1Ei-9NVdWYFYGt3Vs-aySN-U3IbllSGRSITR7_IkMc4dL-XGQj3NLlc5DLu4-E4PNKkGsNAPXa4qPT3hhQA6u0cOwmWEa_6VF5x0j7PQfkw_EnC2MJfPVDXfEODXjNDhtMX8pVxfI_deRN77v0N2Xs1-qKvQGHftip4TTzEELPEE-owDstPeO5PIGuh5bIlWRSxKYyxG4O2sLnHjvcmlC2yB8vODDgR9usMUUI2isPO7GZuHUKmizVMGqrIQOvh8_NB3Z74n6Z29Zs7NgS2sAm-c3Na1U_g0M7gFz3zr_MHnj6U03oWuDh0vyHR0-RHPEvkT4e_kIQKrIKW0VqsiN4YI7j18PU20ldqSkXh3gnq7goYmCBUoKYeISV0JoZaYhpoa1YTmKOFrUwlQK8VzW0dRWkHGO9Z0Q0ah8N_jtsowF97BNEailOVj-N8utjxQU-IhmPtWLsg_g-0g4tOBYYUeEh1bFWvID2LENx7BDlxTOCYelGK2gPNg1qQj1fPKm4zHUPEhqji4O4RXjCv-ab2-5efukgA_Z_AMQOnFq227XCxIfKnoSU1SVgkDiCEwymEewEZlBMAe7t2_BiNRgkniD0uYEhf0C3Kc8_fchIX_Sre79-AyOpD24XNQtwFCzy-OTSQfAAG-F5cXv4CFKneMFVchDeojtzhsOxbTEYYbc3U0stZKA'

// hash using a custom serializer
const serializer = (ob) => JSON.stringify(ob).split('').map(c => c.charCodeAt(0))
kissmyhash({message: 'hello word'}, { serializer })
// -> 'R_OUoCxVJMkT6gaWLPvUUtkb6mHSE06r8EsnSXcRWFQ4XL_KD_47DB-IQzQ_VAeM9kp8mCxmgGhUbe8jsSBaBd0iwZ3AKWPMfGXZQp74sHPdK9N3SsqLYqAaq3iD3y8Mp94Bv9JFVLcVvyBgn2IVciJfLNgoNGkRZVqvNPuRBc_R3hZr5CRHJ6NNSHY95BaAqtwp4NKmLBNamI5dWEVvrQXj5A0psl8R5_gnU5VSUAj0zU26LIM_-DHEjVSZ0adiJsxvMrWCIMU5VGUN_Wmr0ibeGiR3uRnzhAphPdDQ15f9KSxZDCaLqqkbE5C4n4dACAwW12jRdYlYlx1OtOP9iX139P6-6rikgo3XWNTPRXBqaBDbmRlSHE1y5vsiSugvcVvoHDZr8RkDAGBOEnXrQKMb-7PFlHUSb9ReiQjWjvzbC9MG7KodzoYay1X-Z8L22tmbGbHSIbluUw1arTF2ZMEv2mAKPr2Mdixi2gT3uMEj-YKOhdQL7MzKE0lgotZYXCxHucNxfaQFJ5vFpbQod_XsPfw1vnOhQKeNnCuMa0p7UmfEvOfvNL_QuR7z26juBAfsuBbuXhUiSbJfUQrDvKJXhUgqyHLsU_9Kkr22xKCNuEkD-ipsC2m-2GnNvjuSu4IPny1jAoHZlv1NZiQTdeH1KRI5NNvbCC2AOTgpGzO2MGyyOOLGZN52EMN4xGCpJiKDmqO2Qpwp59cth1Gt9_N454ToJ9Mt3s2ClFkPRNkAm3LuLlA8QsXcpL6Dz482Ks468Kk85HTzxDxmCU4bU4dHNUFsx-rO2vq8hCGKOkKLQU7K88znBK53GuB5Xze_awaZKHDDOBrbwsibb1ID8B153ol77z20NOeQG6ULOc8jdAVbRQAqcdoaTaybVSnmUj3XnpjktH0wYs5Xmn02dd-f_e4QGgT9U9yeZ5Va3B3KQZgkBB9j45HHB21EazbdETScN7eifr5K4ZEkLHTfT5NzDloPNQWK79yYdqEJLfytyEXm2hDas_DeEOZEMmsequECANczEgzHpA7wcFi0WuMSzO-Iu_UXlbd0Z06U5l1yUVVFNXM5n-tEoyTjCfxBY652d-IUkn8yQw58I-NPqT9TU6xPJjF-44_Yj1jBlggJoHZEC_x7-Xz5SS7UebBse9YzP2YqUXPQgj8ascemAY3jTZsBpk_SK1dUqi6aKT-mf7XAdI-X9lH_6ffJhLE1C4uEMZv3AZRPj4utAXplzo7pPD92tyzqrn8bedJ5NF8bn_HfSegjT6ftjfwENi7Anaw-cEb2bUnPLGYnE5DWo_yZik6I-msukVe4RdCKUN7e_5fV5YO7SKJm4PUemnVO8o_Cv6m6dZ5E2FO2YwzPew'
```

## Reference

### `kissmyhash(data, [options])`

#### data
it must be anything serializable by the serializer.

#### options
it is an object with three optional fields:
* length: The amount of bytes the hash will have. It defaults to 1024
* prng: You can set a different pseudorandom number generator. It should be a function that accepts a (numeric) seed, and it should return an object with the method int32 that returns the pseudo random numbers. It defaults to seedrandom
* serializer: You can set a different serializer. It should be a function that returns an array of numbers, or Uint8Array. It defaults to bencode.encode

## Warnings about hashing objects with default serializer `bencode.encode`.

### Circular references

The serializer does not support circular references. If you try to hash an object with circular references it will throw `Uncaught RangeError: Maximum call stack size exceeded`

### Booleans and floats

The objects are being serialized to bytes by bencode, and it has no support for booleans and floats, so that `true` becomes `1`, `false` becomes `0`, and floats are truncated.

That can lead to hash collisions.

If you plan to hash objects with floats and booleans you might preffer to hash the JSON serialization of the object instead, or to use a different serializer.

## Warnings about customizations.

If you intend to share your hashes with other people, in signatures for instance, you need to make them know what length, prng and serializer are you using, so they can check your hashes.
